"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d="panelSnap",e="plugin_"+d,f={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(b,d){var e=this;if(e.container=d,e.$container=a(d),e.$eventContainer=e.$container,e.$snapContainer=e.$container,e.$container.is("body")){e.$eventContainer=a(c),e.$snapContainer=a(c.documentElement);var f=navigator.userAgent;~f.indexOf("WebKit")&&(e.$snapContainer=a("body"))}if(e.scrollInterval=e.$container.height(),e.options=a.extend(!0,{},a.fn.panelSnap.options,b),e.bind(),e.options.$menu!==!1&&a(".active",e.options.$menu).length>0)a(".active",e.options.$menu).click();else{var g=e.getPanel(":first");e.activatePanel(g)}return e},bind:function(){var c=this;c.bindProxied(c.$eventContainer,"scrollstop",c.scrollStop),c.bindProxied(c.$eventContainer,"mousewheel",c.mouseWheel),c.bindProxied(c.$eventContainer,"mousedown",c.mouseDown),c.bindProxied(c.$eventContainer,"mouseup",c.mouseUp),c.bindProxied(a(b),"resizestop",c.resize),c.options.keyboardNavigation.enabled&&c.bindProxied(a(b),"keydown",c.keyDown,c.$eventContainer),c.options.$menu!==!1&&c.bindProxied(a(c.options.$menu),"click",c.captureMenuClick,c.options.menuSelector)},bindProxied:function(b,c,d,e){var f=this;e="string"==typeof e?e:null,b.on(c+f.options.namespace,e,a.proxy(function(a){return d.call(f,a)},f))},destroy:function(){var c=this;c.$eventContainer.off(c.options.namespace),a(b).off(c.options.namespace),c.options.$menu!==!1&&a(c.options.menuSelector,c.options.$menu).off(c.options.namespace),c.$container.removeData(e)},scrollStop:function(a){var b=this;if(a.stopPropagation(),b.enabled){if(b.isMouseDown)return void b.$eventContainer.one("mouseup"+b.options.namespace,b.processScroll);if(!b.isSnapping){var c,d=b.$snapContainer.scrollTop(),e=d-b.scrollOffset,f=b.$container[0].scrollHeight-b.scrollInterval,g=b.getPanel().length;c=e<-b.options.directionThreshold&&e>-b.scrollInterval?Math.floor(d/b.scrollInterval):e>b.options.directionThreshold&&e<b.scrollInterval?Math.ceil(d/b.scrollInterval):Math.round(d/b.scrollInterval),c=Math.max(0,Math.min(c,g));var h=b.getPanel(":eq("+c+")");0===e||(0>=d||d>=f?(b.activatePanel(h),b.scrollOffset=0>d?0:f):b.snapToPanel(h))}}},mouseWheel:function(){var a=this;a.$container.stop(!0),a.isSnapping=!1},mouseDown:function(){var a=this;a.isMouseDown=!0},mouseUp:function(a){var b=this;b.isMouseDown=!1,b.scrollOffset!==b.$snapContainer.scrollTop()&&b.scrollStop(a)},keyDown:function(a){var b=this,c=b.options.keyboardNavigation;if(b.isSnapping){if(a.which==c.previousPanelKey||a.which==c.nextPanelKey)return a.preventDefault(),!1}else switch(a.which){case c.previousPanelKey:a.preventDefault(),b.snapTo("prev",c.wrapAround);break;case c.nextPanelKey:a.preventDefault(),b.snapTo("next",c.wrapAround)}},resize:function(){var a=this;if(a.scrollInterval=a.$container.height(),a.enabled){var b=a.getPanel(".active");a.snapToPanel(b)}},captureMenuClick:function(b){var c=this,d=a(b.currentTarget).data("panel"),e=c.getPanel('[data-panel="'+d+'"]');return c.snapToPanel(e),!1},snapToPanel:function(a){var b=this;if(a instanceof jQuery){b.isSnapping=!0,b.options.onSnapStart.call(b,a),b.$container.trigger("panelsnap:start",[a]);var c=0;c=b.$container.is("body")?a.offset().top:b.$snapContainer.scrollTop()+a.position().top,b.$snapContainer.stop(!0).animate({scrollTop:c},b.options.slideSpeed,function(){b.scrollOffset=c,b.isSnapping=!1,b.options.onSnapFinish.call(b,a),b.$container.trigger("panelsnap:finish",[a])}),b.activatePanel(a)}},activatePanel:function(b){var c=this;if(c.getPanel(".active").removeClass("active"),b.addClass("active"),c.options.$menu!==!1){var d="> "+c.options.menuSelector+".active";a(d,c.options.$menu).removeClass("active");var e='[data-panel="'+b.data("panel")+'"]',f="> "+c.options.menuSelector+e,g=a(f,c.options.$menu);g.addClass("active")}c.options.onActivate.call(c,b),c.$container.trigger("panelsnap:activate",[b])},getPanel:function(b){var c=this;"undefined"==typeof b&&(b="");var d="> "+c.options.panelSelector+b;return a(d,c.$container)},snapTo:function(a,b){var c=this;"boolean"!=typeof b&&(b=!0);var d;switch(a){case"prev":d=c.getPanel(".active").prev(c.options.panelSelector),d.length<1&&b&&(d=c.getPanel(":last"));break;case"next":d=c.getPanel(".active").next(c.options.panelSelector),d.length<1&&b&&(d=c.getPanel(":first"));break;case"first":d=c.getPanel(":first");break;case"last":d=c.getPanel(":last")}d.length>0&&c.snapToPanel(d)},enable:function(){var a=this;a.scrollOffset=a.$container[0].scrollHeight,a.enabled=!0},disable:function(){var a=this;a.enabled=!1},toggle:function(){var a=this;a.enabled?a.disable():a.enable()}};a.fn[d]=function(b){var c=Array.prototype.slice.call(arguments);return this.each(function(){var d=a.data(this,e);if("object"!=typeof b&&"init"!==b&&b){if(!d)return void a.error("Plugin is not initialized for this object yet.");if(!d[b])return void a.error("Method "+b+" does not exist on jQuery.panelSnap.");var g=b;b=c.slice(1),d[g].apply(d,b)}else{if(d)return void a.error("Plugin is already initialized for this object.");"init"===b&&(b=c[1]||{}),d=Object.create(f).init(b,this),a.data(this,e,d)}})},a.fn[d].options={$menu:!1,menuSelector:"a",panelSelector:"section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),function(a){a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){a.type=b?"scrollstart":"scrollstop",e.trigger(a)}var c,d=this,e=a(d);e.data("scrollwatch",!0),e.on("touchmove scroll",function(d){a.event.special.scrollstart.enabled&&(a.event.special.scrollstart.scrolling||(a.event.special.scrollstart.scrolling=!0,b(d,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.scrollstart.scrolling=!1,b(d,!1)},50))})}},a.event.special.scrollstop={setup:function(){var b=this,c=a(b);c.data("scrollwatch")||a(this).on("scrollstart",function(){})}}}(jQuery),function(a){a.event.special.resizestart={enabled:!0,setup:function(){function b(a,b){a.type=b?"resizestart":"resizestop",e.trigger(a)}var c,d=this,e=a(d);e.data("resizewatch",!0),e.on("resize",function(d){a.event.special.resizestart.enabled&&(a.event.special.resizestart.resizing||(a.event.special.resizestart.resizing=!0,b(d,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.resizestart.resizing=!1,b(d,!1)},200))})}},a.event.special.resizestop={setup:function(){var b=this,c=a(b);c.data("resizewatch")||a(this).on("resizestart",function(){})}}}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){function b(a){var b,c;if(a.start||(a.start=g),b=g-a.start,a.delay&&(b-=a.delay),c=b/a.duration,c>1&&(c=1),1>=c&&c>=0){var d=a.delta(c);a.step(d)}1==c&&(a.infinite?(a.delay=0,a.start=g):a.finished=!0)}function c(a,b){var c=parseInt(a.slice(1),16),d=0>b?0:255,e=0>b?-1*b:b,f=c>>16,g=c>>8&255,h=255&c;return"#"+(16777216+65536*(Math.round((d-f)*e)+f)+256*(Math.round((d-g)*e)+g)+(Math.round((d-h)*e)+h)).toString(16).slice(1)}function d(a,b,c){var d=parseInt(a.slice(1),16),e=parseInt(b.slice(1),16),f=d>>16,g=d>>8&255,h=255&d,i=e>>16,j=e>>8&255,k=255&e;return"#"+(16777216+65536*(Math.round((i-f)*c)+f)+256*(Math.round((j-g)*c)+g)+(Math.round((k-h)*c)+h)).toString(16).slice(1)}function e(a){function b(a){return("0"+parseInt(a).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(a)?a:(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+b(a[1])+b(a[2])+b(a[3]))}var f=new Array,g=0,h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){window.setTimeout(function(){animloop()},1e3/60)}}(),i=function(f,h){this.index=h;var i=this;this.init=function(){i.can=f,i.ctx=i.can.getContext("2d"),i.resize(),i.scroll(),i.click(),k.init(),l.init(),m.init()},this.click=function(){a(i.can).click(function(a){k.addCircle(a.offsetX,a.offsetY)})},this.resize=function(){a(window).resize(function(){var b=a("<canvas></canvas>").width(i.can.width).height(i.can.height)[0],c=b.getContext("2d");c.drawImage(i.can,0,0),i.can.width=a(i.can).width(),i.can.height=a(i.can).height(),i.ctx.drawImage(c.canvas,0,0)}).trigger("resize")},this.scroll=function(){a(window).scroll(function(){var b=a(window).scrollTop(),c=b+a(window).height(),d=a(i.can).offset().top,e=d+a(i.can).height();i.visible=d>=b&&c>d||c>=e&&e>b?!0:!1}).trigger("scroll")},this.draw=function(){i.visible&&(k.draw(),l.draw(),m.draw())},this.update=function(){k.update(),l.update(),m.update()},this.land=function(){};var k={circles:[],init:function(){k.color=e(a(i.can).css("background-color")),k.colorOrig=k.color},draw:function(){i.ctx.save(),i.ctx.fillStyle=k.color,i.ctx.fillRect(0,0,i.can.width,i.can.height),i.ctx.restore(),k.circles&&k.circles.forEach(function(a){i.ctx.save(),i.ctx.beginPath(),i.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!1),i.ctx.fillStyle=a.fill,i.ctx.fill(),i.ctx.restore()})},update:function(){var a=0;k.circles.forEach(function(b){b.radius>i.can.width&&b.radius>i.can.height&&(k.color=b.fill,k.circles.splice(a--,1)),b.radius*=1.05,a++}),k.color=d(k.color,k.colorOrig,.1)},addCircle:function(a,b){var d=c(k.colorOrig,1*Math.random()+-.5);k.circles.push({x:a,y:b,radius:1,fill:d})}},l={particlesArray:[],center:{},init:function(){},draw:function(){for(var a=0;a<l.particlesArray.length;a++)l.particlesArray[a].draw()},update:function(){g%3==0&&l.particlesArray.push(new l.particle);for(var a=0;a<l.particlesArray.length;a++)l.particlesArray[a].update()},particle:function(){this.x=i.can.width/2,this.y=i.can.height/2,this.vx=20*Math.random()-10,this.vy=20*Math.random()-10,this.opacity=.25*Math.random()+.5,this.radius=1.5*Math.random()+1,this.draw=function(){i.ctx.save(),i.ctx.fillStyle="rgba(255,255,255,"+this.opacity+")",i.ctx.beginPath(),i.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),i.ctx.fill(),i.ctx.restore()},this.update=function(){if(this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>i.can.width||this.x-this.radius<0||this.y+this.radius>i.can.height||this.y-this.radius<0)for(var a in l.particlesArray)l.particlesArray[a]==this&&l.particlesArray.splice(a,1)}}},m={side:150,count:0,rotate:0,opacity:0,scale:0,animations:[{duration:80,delta:function(a){return j.easeOutQuad(a)},step:function(a){m.rotate=600*a*Math.PI/180,m.opacity=a}},{duration:40,delta:function(a){return j.linear(a)},step:function(a){m.scale=a}},{delay:40,duration:75,infinite:!0,delta:function(a){return j.linear(a)},step:function(a){var b=.05,c=Math.cos(Math.PI+Math.PI*a*2);c/=1/b,c=c+1+b,m.scale=c}}],init:function(){},draw:function(){var a,b,c;a=m.side*(Math.sqrt(3)/2),b=[{x:0,y:-a/2},{x:-m.side/2,y:a/2},{x:m.side/2,y:a/2}],c=(b[0].y+b[1].y+b[2].y)/3,b.forEach(function(a){a.y=a.y-c}),i.ctx.save(),i.ctx.fillStyle="rgba(255,255,255,"+m.opacity+")",i.ctx.translate(i.can.width/2,i.can.height/2),i.ctx.rotate(m.rotate),i.ctx.scale(m.scale,m.scale),i.ctx.beginPath(),i.ctx.moveTo(b[0].x,b[0].y),i.ctx.lineTo(b[1].x,b[1].y),i.ctx.lineTo(b[2].x,b[2].y),i.ctx.lineTo(b[0].x,b[0].y),i.ctx.fill(),i.ctx.closePath(),i.ctx.restore()},update:function(){var a=0;m.animations.forEach(function(c){c.finished&&m.animations.splice(a--,1),b(c),a++})}}},j={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},k={init:function(){k.resize(),a(".navigation-menu").click(function(b){b.preventDefault(),a(".navigation").toggleClass("is-open")}),a("section[data-panel]").length&&(a("body").panelSnap({$menu:a(".navigationSide-list, .navigation-list"),menuSelector:"li[data-panel]",onSnapFinish:function(b){var c=0==b.index()?pagebase:b.attr("data-panel").toLowerCase();history.replaceState({data:a("html").html()},c,c)}}),a(".navigation-button.ajax").click(function(b){b.preventDefault(),a("body").panelSnap("snapToPanel",a("section:first"))})),a(".navigationSide-item").hover(function(){a(".navigationSide-list .navigationSide-item:nth-of-type("+(a(this).index()+1)+")").addClass("is-hover")},function(){a(".navigationSide-list .navigationSide-item:nth-of-type("+(a(this).index()+1)+")").removeClass("is-hover")}),a("canvas").each(function(b){f[b]=new i(a(this)[0],b),f[b].init()})},resize:function(){}};a(function(){k.init();var b=function(){g++,a.each(f,function(a){f[a].draw(),f[a].update()}),h(b)};requestAnimationFrame(b)})}(jQuery);