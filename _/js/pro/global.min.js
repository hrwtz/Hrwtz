!function(a){var b=0,c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){window.setTimeout(d.draw,1e3/60)}}(),d={init:function(){d.can=a("canvas")[0],d.ctx=d.can.getContext("2d"),d.resize(),g.init(),f.init(),d.animloop()},resize:function(){a(window).resize(function(){var b=a("<canvas></canvas>").width(d.can.width).height(d.can.height)[0],c=b.getContext("2d");c.drawImage(d.can,0,0),d.can.width=a(d.can).width(),d.can.height=a(d.can).height(),d.ctx.drawImage(c.canvas,0,0)}).trigger("resize")},draw:function(){e.draw(),g.draw(),f.draw()},animloop:function(){b++,d.draw(),c(d.animloop)}},e={draw:function(){d.ctx.save(),d.ctx.fillStyle="black",d.ctx.fillRect(0,0,d.can.width,d.can.height),d.ctx.restore()}},f={side:150,count:0,rotate:0,opacity:0,scale:0,animations:[{start:b,duration:50,delta:function(a){return a},step:function(a){f.rotate=720*a*Math.PI/180,f.opacity=1*a,f.scale=1*a}}],init:function(){},draw:function(){var a,b,c;a=f.side*(Math.sqrt(3)/2),b=[{x:0,y:-a/2},{x:-f.side/2,y:a/2},{x:f.side/2,y:a/2}],c=(b[0].y+b[1].y+b[2].y)/3,b.forEach(function(a){a.y=a.y-c}),d.ctx.save(),d.ctx.fillStyle="rgba(255,255,255,"+f.opacity+")",d.ctx.translate(d.can.width/2,d.can.height/2),d.ctx.rotate(f.rotate),d.ctx.scale(f.scale,f.scale),d.ctx.beginPath(),d.ctx.moveTo(b[0].x,b[0].y),d.ctx.lineTo(b[1].x,b[1].y),d.ctx.lineTo(b[2].x,b[2].y),d.ctx.lineTo(b[0].x,b[0].y),d.ctx.fill(),d.ctx.restore(),f.update()},update:function(){f.animations.forEach(function(a){var c,d;if(c=b-a.start,a.delay&&(c-=a.delay),d=c/a.duration,d>1&&(d=1),1>=d&&d>=0){var e=a.delta(d);a.step(e)}}),f.count++}},g={particlesArray:[],center:{},init:function(){},draw:function(){b%3==0&&g.particlesArray.push(new g.particle);for(var a=0;a<g.particlesArray.length;a++)g.particlesArray[a].draw()},particle:function(){this.x=d.can.width/2,this.y=d.can.height/2,this.vx=20*Math.random()-10,this.vy=20*Math.random()-10,this.opacity=.25*Math.random()+.5,this.radius=1.5*Math.random()+1,this.draw=function(){d.ctx.save(),d.ctx.fillStyle="rgba(255,255,255,"+this.opacity+")",d.ctx.beginPath(),d.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),d.ctx.fill(),d.ctx.restore(),this.update()},this.update=function(){if(this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>d.can.width||this.x-this.radius<0||this.y+this.radius>d.can.height||this.y-this.radius<0)for(var a in g.particlesArray)g.particlesArray[a]==this&&g.particlesArray.splice(a,1)}}};a(function(){d.init()})}(jQuery);