!function(a){function b(a){var b,d;if(a.start||(a.start=c),b=c-a.start,a.delay&&(b-=a.delay),d=b/a.duration,d>1&&(d=1),1>=d&&d>=0){var e=a.delta(d);a.step(e)}1==d&&(a.infinite?(a.delay=0,a.start=c):a.finished=!0)}var c=0,d=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){window.setTimeout(e.draw,1e3/60)}}(),e={init:function(){e.can=a("canvas")[0],e.ctx=e.can.getContext("2d"),e.resize(),e.click(),f.init(),i.init(),h.init(),e.animloop()},click:function(){a(e.can).click(function(a){f.addCircle(a.offsetX,a.offsetY)})},resize:function(){a(window).resize(function(){var b=a("<canvas></canvas>").width(e.can.width).height(e.can.height)[0],c=b.getContext("2d");c.drawImage(e.can,0,0),e.can.width=a(e.can).width(),e.can.height=a(e.can).height(),e.ctx.drawImage(c.canvas,0,0)}).trigger("resize")},draw:function(){f.draw(),i.draw(),h.draw()},animloop:function(){c++,e.draw(),d(e.animloop)}},f={circles:[],colors:["#25aaca","#fae075","#7abaa7","#845aa5","#265a71"],init:function(){f.circleColors=this.colors.slice(0)},draw:function(){e.ctx.save(),e.ctx.fillStyle=f.colors[0],e.ctx.fillRect(0,0,e.can.width,e.can.height),e.ctx.restore(),f.circles&&f.circles.forEach(function(a){e.ctx.save(),e.ctx.beginPath(),e.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!1),e.ctx.fillStyle=a.fill,e.ctx.fill(),e.ctx.restore()}),f.update()},update:function(){var a=0;f.circles.forEach(function(b){b.radius>e.can.width&&b.radius>e.can.height&&(f.colors.push(f.colors.shift()),f.circles.splice(a--,1)),b.radius*=1.05,a++})},addCircle:function(a,b){f.circleColors.push(f.circleColors.shift()),f.circles.push({x:a,y:b,radius:1,fill:f.circleColors[0]})}},g={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},h={side:150,count:0,rotate:0,opacity:0,scale:0,animations:[{duration:80,delta:function(a){return g.easeOutQuad(a)},step:function(a){h.rotate=600*a*Math.PI/180,h.opacity=a}},{duration:40,delta:function(a){return g.linear(a)},step:function(a){h.scale=a}},{delay:40,duration:75,infinite:!0,delta:function(a){return g.linear(a)},step:function(a){var b=.05,c=Math.cos(Math.PI+Math.PI*a*2);c/=1/b,c=c+1+b,h.scale=c}}],init:function(){},draw:function(){var a,b,c;a=h.side*(Math.sqrt(3)/2),b=[{x:0,y:-a/2},{x:-h.side/2,y:a/2},{x:h.side/2,y:a/2}],c=(b[0].y+b[1].y+b[2].y)/3,b.forEach(function(a){a.y=a.y-c}),e.ctx.save(),e.ctx.fillStyle="rgba(255,255,255,"+h.opacity+")",e.ctx.translate(e.can.width/2,e.can.height/2),e.ctx.rotate(h.rotate),e.ctx.scale(h.scale,h.scale),e.ctx.beginPath(),e.ctx.moveTo(b[0].x,b[0].y),e.ctx.lineTo(b[1].x,b[1].y),e.ctx.lineTo(b[2].x,b[2].y),e.ctx.lineTo(b[0].x,b[0].y),e.ctx.fill(),e.ctx.closePath(),e.ctx.restore(),h.update()},update:function(){var a=0;h.animations.forEach(function(c){c.finished&&h.animations.splice(a--,1),b(c),a++})}},i={particlesArray:[],center:{},init:function(){},draw:function(){c%3==0&&i.particlesArray.push(new i.particle);for(var a=0;a<i.particlesArray.length;a++)i.particlesArray[a].draw()},particle:function(){this.x=e.can.width/2,this.y=e.can.height/2,this.vx=20*Math.random()-10,this.vy=20*Math.random()-10,this.opacity=.25*Math.random()+.5,this.radius=1.5*Math.random()+1,this.draw=function(){e.ctx.save(),e.ctx.fillStyle="rgba(255,255,255,"+this.opacity+")",e.ctx.beginPath(),e.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.ctx.fill(),e.ctx.restore(),this.update()},this.update=function(){if(this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>e.can.width||this.x-this.radius<0||this.y+this.radius>e.can.height||this.y-this.radius<0)for(var a in i.particlesArray)i.particlesArray[a]==this&&i.particlesArray.splice(a,1)}}},j={init:function(){j.resize()},resize:function(){a(window).resize(function(){a(".row--window").css("height",a(window).height())})}};a(function(){j.init(),e.init()})}(jQuery);