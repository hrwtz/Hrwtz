"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d="panelSnap",e="plugin_"+d,f={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(b,d){var e=this;if(e.container=d,e.$container=a(d),e.$eventContainer=e.$container,e.$snapContainer=e.$container,e.$container.is("body")){e.$eventContainer=a(c),e.$snapContainer=a(c.documentElement);var f=navigator.userAgent;~f.indexOf("WebKit")&&(e.$snapContainer=a("body"))}if(e.scrollInterval=e.$container.height(),e.options=a.extend(!0,{},a.fn.panelSnap.options,b),e.bind(),e.options.$menu!==!1&&a(".active",e.options.$menu).length>0)a(".active",e.options.$menu).click();else{var g=e.getPanel(":first");e.activatePanel(g)}return e},bind:function(){var c=this;c.bindProxied(c.$eventContainer,"scrollstop",c.scrollStop),c.bindProxied(c.$eventContainer,"mousewheel",c.mouseWheel),c.bindProxied(c.$eventContainer,"mousedown",c.mouseDown),c.bindProxied(c.$eventContainer,"mouseup",c.mouseUp),c.bindProxied(a(b),"resizestop",c.resize),c.options.keyboardNavigation.enabled&&c.bindProxied(a(b),"keydown",c.keyDown,c.$eventContainer),c.options.$menu!==!1&&c.bindProxied(a(c.options.$menu),"click",c.captureMenuClick,c.options.menuSelector)},bindProxied:function(b,c,d,e){var f=this;e="string"==typeof e?e:null,b.on(c+f.options.namespace,e,a.proxy(function(a){return d.call(f,a)},f))},destroy:function(){var c=this;c.$eventContainer.off(c.options.namespace),a(b).off(c.options.namespace),c.options.$menu!==!1&&a(c.options.menuSelector,c.options.$menu).off(c.options.namespace),c.$container.removeData(e)},scrollStop:function(a){var b=this;if(a.stopPropagation(),b.enabled){if(b.isMouseDown)return void b.$eventContainer.one("mouseup"+b.options.namespace,b.processScroll);if(!b.isSnapping){var c,d=b.$snapContainer.scrollTop(),e=d-b.scrollOffset,f=b.$container[0].scrollHeight-b.scrollInterval,g=b.getPanel().length;c=e<-b.options.directionThreshold&&e>-b.scrollInterval?Math.floor(d/b.scrollInterval):e>b.options.directionThreshold&&e<b.scrollInterval?Math.ceil(d/b.scrollInterval):Math.round(d/b.scrollInterval),c=Math.max(0,Math.min(c,g));var h=b.getPanel(":eq("+c+")");0===e||(0>=d||d>=f?(b.activatePanel(h),b.scrollOffset=0>d?0:f):b.snapToPanel(h))}}},mouseWheel:function(){var a=this;a.$container.stop(!0),a.isSnapping=!1},mouseDown:function(){var a=this;a.isMouseDown=!0},mouseUp:function(a){var b=this;b.isMouseDown=!1,b.scrollOffset!==b.$snapContainer.scrollTop()&&b.scrollStop(a)},keyDown:function(a){var b=this,c=b.options.keyboardNavigation;if(b.isSnapping){if(a.which==c.previousPanelKey||a.which==c.nextPanelKey)return a.preventDefault(),!1}else switch(a.which){case c.previousPanelKey:a.preventDefault(),b.snapTo("prev",c.wrapAround);break;case c.nextPanelKey:a.preventDefault(),b.snapTo("next",c.wrapAround)}},resize:function(){var a=this;if(a.scrollInterval=a.$container.height(),a.enabled){var b=a.getPanel(".active");a.snapToPanel(b)}},captureMenuClick:function(b){var c=this,d=a(b.currentTarget).data("panel"),e=c.getPanel('[data-panel="'+d+'"]');return c.snapToPanel(e),!1},snapToPanel:function(a){var b=this;if(a instanceof jQuery){b.isSnapping=!0,b.options.onSnapStart.call(b,a),b.$container.trigger("panelsnap:start",[a]);var c=0;c=b.$container.is("body")?a.offset().top:b.$snapContainer.scrollTop()+a.position().top,b.$snapContainer.stop(!0).animate({scrollTop:c},b.options.slideSpeed,function(){b.scrollOffset=c,b.isSnapping=!1,b.options.onSnapFinish.call(b,a),b.$container.trigger("panelsnap:finish",[a])}),b.activatePanel(a)}},activatePanel:function(b){var c=this;if(c.getPanel(".active").removeClass("active"),b.addClass("active"),c.options.$menu!==!1){var d="> "+c.options.menuSelector+".active";a(d,c.options.$menu).removeClass("active");var e='[data-panel="'+b.data("panel")+'"]',f="> "+c.options.menuSelector+e,g=a(f,c.options.$menu);g.addClass("active")}c.options.onActivate.call(c,b),c.$container.trigger("panelsnap:activate",[b])},getPanel:function(b){var c=this;"undefined"==typeof b&&(b="");var d="> "+c.options.panelSelector+b;return a(d,c.$container)},snapTo:function(a,b){var c=this;"boolean"!=typeof b&&(b=!0);var d;switch(a){case"prev":d=c.getPanel(".active").prev(c.options.panelSelector),d.length<1&&b&&(d=c.getPanel(":last"));break;case"next":d=c.getPanel(".active").next(c.options.panelSelector),d.length<1&&b&&(d=c.getPanel(":first"));break;case"first":d=c.getPanel(":first");break;case"last":d=c.getPanel(":last")}d.length>0&&c.snapToPanel(d)},enable:function(){var a=this;a.scrollOffset=a.$container[0].scrollHeight,a.enabled=!0},disable:function(){var a=this;a.enabled=!1},toggle:function(){var a=this;a.enabled?a.disable():a.enable()}};a.fn[d]=function(b){var c=Array.prototype.slice.call(arguments);return this.each(function(){var d=a.data(this,e);if("object"!=typeof b&&"init"!==b&&b){if(!d)return void a.error("Plugin is not initialized for this object yet.");if(!d[b])return void a.error("Method "+b+" does not exist on jQuery.panelSnap.");var g=b;b=c.slice(1),d[g].apply(d,b)}else{if(d)return void a.error("Plugin is already initialized for this object.");"init"===b&&(b=c[1]||{}),d=Object.create(f).init(b,this),a.data(this,e,d)}})},a.fn[d].options={$menu:!1,menuSelector:"a",panelSelector:"section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),function(a){a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){a.type=b?"scrollstart":"scrollstop",e.trigger(a)}var c,d=this,e=a(d);e.data("scrollwatch",!0),e.on("touchmove scroll",function(d){a.event.special.scrollstart.enabled&&(a.event.special.scrollstart.scrolling||(a.event.special.scrollstart.scrolling=!0,b(d,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.scrollstart.scrolling=!1,b(d,!1)},50))})}},a.event.special.scrollstop={setup:function(){var b=this,c=a(b);c.data("scrollwatch")||a(this).on("scrollstart",function(){})}}}(jQuery),function(a){a.event.special.resizestart={enabled:!0,setup:function(){function b(a,b){a.type=b?"resizestart":"resizestop",e.trigger(a)}var c,d=this,e=a(d);e.data("resizewatch",!0),e.on("resize",function(d){a.event.special.resizestart.enabled&&(a.event.special.resizestart.resizing||(a.event.special.resizestart.resizing=!0,b(d,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.resizestart.resizing=!1,b(d,!1)},200))})}},a.event.special.resizestop={setup:function(){var b=this,c=a(b);c.data("resizewatch")||a(this).on("resizestart",function(){})}}}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){function b(a){var b,c;if(a.start||(a.start=i),b=i-a.start,a.delay&&(b-=a.delay),c=b/a.duration,c>1&&(c=1),1>=c&&c>=0){var d=a.delta(c);a.step(d)}1==c&&(a.infinite?(a.delay=0,a.start=i):(a.finished=!0,a.complete&&a.complete()))}function c(a,b){var c=parseInt(a.slice(1),16),d=0>b?0:255,e=0>b?-1*b:b,f=c>>16,g=c>>8&255,h=255&c;return"#"+(16777216+65536*(Math.round((d-f)*e)+f)+256*(Math.round((d-g)*e)+g)+(Math.round((d-h)*e)+h)).toString(16).slice(1)}function d(a,b,c){var d=parseInt(a.slice(1),16),e=parseInt(b.slice(1),16),f=d>>16,g=d>>8&255,h=255&d,i=e>>16,j=e>>8&255,k=255&e;return"#"+(16777216+65536*(Math.round((i-f)*c)+f)+256*(Math.round((j-g)*c)+g)+(Math.round((k-h)*c)+h)).toString(16).slice(1)}function e(a){function b(a){return("0"+parseInt(a).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(a)?a:(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+b(a[1])+b(a[2])+b(a[3]))}function f(a,b,c){var d={};return d.x=c*b.x+(1-c)*a.x,d.y=c*b.y+(1-c)*a.y,d}function g(b){"function"==typeof jQuery&&b instanceof jQuery&&(b=b[0]);var c=b.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom<=a(window).height()&&c.right<=a(window).width()}var h=new Array,i=0,j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){window.setTimeout(function(){animloop()},1e3/60)}}(),k=function(g,h){var j=this;j.index=h,this.init=function(){j.can=g,j.ctx=j.can.getContext("2d"),j.resize(),j.scroll(),j.click(),k.init()},this.controller=function(){for(var a=0;a<j.triggerAnimation+1&&(!(0!=a&&1!=q[a-1].finished||a>j.index)&&q[a]);a++)0==q[a].triggered&&(q[a].init(),q[a].triggered=!0),j.visible&&q[a].draw(),q[a].update()},this.click=function(){a(j.can).click(function(a){k.addCircle(a.offsetX,a.offsetY)})},this.resize=function(){a(window).resize(function(){var b=a("<canvas></canvas>").width(j.can.width).height(j.can.height)[0],c=b.getContext("2d");c.drawImage(j.can,0,0),j.can.width=a(j.can).width(),j.can.height=a(j.can).height(),j.ctx.drawImage(c.canvas,0,0)}).trigger("resize")},this.scroll=function(){a(window).scroll(function(){var b=a(window).scrollTop(),c=b+a(window).height(),d=a(j.can).offset().top,e=d+a(j.can).height();j.visible=d>=b&&c>d||c>=e&&e>b?!0:!1}).trigger("scroll")};var k={circles:[],init:function(){k.color=e(a(j.can).css("background-color")),k.colorOrig=k.color},draw:function(){j.ctx.save(),j.ctx.fillStyle=k.color,j.ctx.fillRect(0,0,j.can.width,j.can.height),j.ctx.restore(),k.circles&&k.circles.forEach(function(a){j.ctx.save(),j.ctx.beginPath(),j.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!1),j.ctx.fillStyle=a.fill,j.ctx.fill(),j.ctx.restore()})},update:function(){var a=0;k.circles.forEach(function(b){b.radius>j.can.width&&b.radius>j.can.height&&(k.color=b.fill,k.circles.splice(a--,1)),b.radius*=1.05,a++}),k.color=d(k.color,k.colorOrig,.1)},addCircle:function(a,b){var d=c(k.colorOrig,1*Math.random()+-.5);k.circles.push({x:a,y:b,radius:1,fill:d})}},m={particlesArray:[],center:{},runparticles:!0,init:function(){},draw:function(){for(var a=0;a<m.particlesArray.length;a++)m.particlesArray[a].draw()},update:function(){i%3==0&&1==m.runparticles&&m.particlesArray.push(new m.particle);for(var a=0;a<m.particlesArray.length;a++)m.particlesArray[a].update()},particle:function(){this.x=j.can.width/2,this.y=j.can.height/2,this.vx=20*Math.random()-10,this.vy=20*Math.random()-10,this.opacity=.25*Math.random()+.5,this.radius=1.5*Math.random()+1,this.draw=function(){j.ctx.save(),j.ctx.fillStyle="rgba(255,255,255,"+this.opacity+")",j.ctx.beginPath(),j.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),j.ctx.fill(),j.ctx.restore()},this.update=function(){if(this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>j.can.width||this.x-this.radius<0||this.y+this.radius>j.can.height||this.y-this.radius<0)for(var a in m.particlesArray)m.particlesArray[a]==this&&m.particlesArray.splice(a,1)}}},n={side:150,count:0,rotate:0,opacity:0,scale:0,finished:!1,animations:[{duration:80,delta:function(a){return l.easeOutQuad(a)},step:function(a){n.rotate=600*a*Math.PI/180,n.opacity=a},complete:function(){n.finished=!0}},{duration:40,delta:function(a){return l.linear(a)},step:function(a){n.scale=a}},{delay:40,duration:75,infinite:!0,delta:function(a){return l.linear(a)},step:function(a){var b=.05,c=Math.cos(Math.PI+Math.PI*a*2);c/=1/b,c=c+1+b,n.scale=c}}],init:function(){var a,b;a=n.side*(Math.sqrt(3)/2),n.triCoords=[{x:0,y:-a/2},{x:-n.side/2,y:a/2},{x:n.side/2,y:a/2}],b=(n.triCoords[0].y+n.triCoords[1].y+n.triCoords[2].y)/3,n.triCoords.forEach(function(a){a.y=a.y-b})},draw:function(){j.ctx.save(),j.ctx.fillStyle="rgba(255,255,255,"+n.opacity+")",j.ctx.translate(j.can.width/2,j.can.height/2),j.ctx.rotate(n.rotate),j.ctx.scale(n.scale,n.scale),j.ctx.beginPath(),j.ctx.moveTo(n.triCoords[0].x,n.triCoords[0].y),j.ctx.lineTo(n.triCoords[1].x,n.triCoords[1].y),j.ctx.lineTo(n.triCoords[2].x,n.triCoords[2].y),j.ctx.lineTo(n.triCoords[0].x,n.triCoords[0].y),j.ctx.fill(),j.ctx.closePath(),j.ctx.restore()},update:function(){var a=0;n.animations.forEach(function(c){c.finished&&n.animations.splice(a--,1),b(c),a++})},destroy:function(){this.draw=function(){return!1}}},o={split:[],init:function(){o.start=i,o.split[0]={Coords:{}},o.split[1]={Coords:{}},o.triangle=jQuery.extend(!0,{},n),n.destroy(),o.split[0].Coords[0]=o.triangle.triCoords[2],o.split[0].Coords[1]=o.triangle.triCoords[0],o.split[0].Coords[2]=f(o.triangle.triCoords[0],o.triangle.triCoords[1],.3),o.split[0].Coords[3]=f(o.triangle.triCoords[1],o.triangle.triCoords[2],.6),o.split[0].vx=-.5,o.split[0].vy=-1.3,o.split[0].vrotate=.002,o.split[0].rotate=0,o.split[1].Coords[0]=o.triangle.triCoords[1],o.split[1].Coords[1]=f(o.triangle.triCoords[0],o.triangle.triCoords[1],.3),o.split[1].Coords[2]=f(o.triangle.triCoords[1],o.triangle.triCoords[2],.6),o.split[1].vx=.5,o.split[1].vy=1.3,o.split[1].vrotate=5e-4,o.split[1].rotate=0},draw:function(){j.ctx.save(),j.ctx.fillStyle="rgba(255,255,255,1)",j.ctx.translate(j.can.width/2,j.can.height/2),j.ctx.scale(o.triangle.scale,o.triangle.scale),a.each(o.split,function(b,c){j.ctx.rotate(c.rotate),j.ctx.beginPath(),j.ctx.lineTo(c.Coords[0].x,c.Coords[0].y),a.each(c.Coords,function(a,b){0!=a&&j.ctx.lineTo(b.x,b.y)}),j.ctx.lineTo(c.Coords[0].x,c.Coords[0].y),j.ctx.fill(),j.ctx.closePath()}),j.ctx.restore()},update:function(){a.each(o.split,function(b,c){a.each(c.Coords,function(b,d){d.x+=c.vx,d.y+=c.vy,o.superCharged||c.vx>.04||c.vx<-.04||!(d.x>a(j.can).width()/2||d.x<-a(j.can).width()/2||d.y>a(j.can).height()/2||d.y<-a(j.can).height()/2)||(c.vx=0,c.vy=0)}),o.superCharged||(i-o.start>=40?((c.vx>.04||c.vx<-.04)&&(c.vx*=.985),(c.vy>.04||c.vy<-.04)&&(c.vy*=.985),i-o.start>60&&(c.vrotate*=.99)):(c.vx*=.9995,c.vy*=.9995)),c.rotate+=c.vrotate})}},p={runShapes:!0,shapesCreated:0,triStrokesArray:[],init:function(){},draw:function(){for(var a=0;a<p.triStrokesArray.length;a++)p.triStrokesArray[a].draw()},update:function(){i%30==0&&p.runShapes&&(p.triStrokesArray.push(new p.triStroke),p.shapesCreated++);for(var a=0;a<p.triStrokesArray.length;a++)p.triStrokesArray[a].update();4==p.shapesCreated&&(p.finished=!0)},triStroke:function(){this.opacity=.25*Math.random()+.5,this.scale=1,this.rotate=0,this.draw=function(){j.ctx.save(),j.ctx.translate(j.can.width/2,j.can.height/2),j.ctx.rotate(this.rotate),j.ctx.strokeStyle="rgba(255,255,255,"+this.opacity+")",j.ctx.beginPath(),j.ctx.lineTo(0*this.scale,-5*this.scale),j.ctx.lineTo(6*this.scale,5*this.scale),j.ctx.lineTo(-6*this.scale,5*this.scale),j.ctx.lineTo(0*this.scale,-5*this.scale),j.ctx.lineWidth=2,j.ctx.closePath(),j.ctx.stroke(),j.ctx.restore()},this.update=function(){if(this.scale+=.1,this.scale*=1.02,this.rotate+=.001,this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>j.can.width||this.x-this.radius<0||this.y+this.radius>j.can.height||this.y-this.radius<0)for(var a in p.triStrokesArray)p.triStrokesArray[a]==this&&p.triStrokesArray.splice(a,1)}}},q=[{finished:!0,triggered:!1,init:function(){k.init(),m.init()},draw:function(){k.draw(),m.draw()},update:function(){k.update(),m.update()}},{finished:!1,triggered:!1,init:function(){n.init()},draw:function(){n.draw()},update:function(){n.update(),this.finished=n.finished}},{finished:!0,triggered:!1,init:function(){o.init()},draw:function(){o.draw()},update:function(){o.update()}},{finished:!0,triggered:!1,init:function(){o.superCharged=!0,o.split[1].vx=.5,o.split[1].vy=1.3,o.split[1].vrotate=5e-4,o.split[0].vx=-.5,o.split[0].vy=-1.3,o.split[0].vrotate=.002,p.init()},draw:function(){p.draw()},update:function(){p.update(),this.finished=p.finished}},{finished:!0,triggered:!1,init:function(){p.runShapes=!1,m.runparticles=!1},draw:function(){},update:function(){}}]},l={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},m={init:function(){a(".navigation-menu").click(function(b){b.preventDefault(),a(".navigation").toggleClass("is-open")}),a("section[data-panel]").length&&(a("body").panelSnap({$menu:a(".navigationSide-list, .navigation-list"),menuSelector:"li[data-panel]",onSnapFinish:function(b){var c="none"==a(".cell--half").css("float")||0==b.index()?pagebase:b.attr("data-panel").toLowerCase();history.replaceState({data:a("html").html()},c,c),a.each(h,function(a){(b.index()-1>h[a].triggerAnimation||!h[a].triggerAnimation)&&(h[a].triggerAnimation=b.index()-1)})}}),a(".navigation-button.ajax").click(function(b){b.preventDefault(),a("body").panelSnap("snapToPanel",a("section:first"))})),a(".navigationSide-item").hover(function(){a(".navigationSide-list .navigationSide-item:nth-of-type("+(a(this).index()+1)+")").addClass("is-hover")},function(){a(".navigationSide-list .navigationSide-item:nth-of-type("+(a(this).index()+1)+")").removeClass("is-hover")}),a("canvas").each(function(b){h[b]=new k(a(this)[0],b),h[b].init()}),a(window).on("resize",function(){a("section[data-panel]").length&&a("body").panelSnap("none"==a(".cell--half").css("float")?"disable":"enable")}),a(window).on("resize scroll",function(){a("section[data-panel]").length&&"none"==a(".cell--half").css("float")&&a(".canvas").each(function(){g(a(this))&&($target=a(this).parents("section[data-panel]"),a.each(h,function(a){($target.index()>h[a].triggerAnimation||!h[a].triggerAnimation)&&(h[a].triggerAnimation=$target.index())}))})}).trigger("resize")}};a(function(){m.init();var b=function(){i++,a.each(h,function(a){h[a].controller()}),j(b)};requestAnimationFrame(b)})}(jQuery);