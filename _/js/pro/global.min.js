!function(a){function b(a){var b,c;if(a.start||(a.start=g),b=g-a.start,a.delay&&(b-=a.delay),c=b/a.duration,c>1&&(c=1),1>=c&&c>=0){var d=a.delta(c);a.step(d)}1==c&&(a.infinite?(a.delay=0,a.start=g):a.finished=!0)}function c(a,b){var c=parseInt(a.slice(1),16),d=0>b?0:255,e=0>b?-1*b:b,f=c>>16,g=c>>8&255,h=255&c;return"#"+(16777216+65536*(Math.round((d-f)*e)+f)+256*(Math.round((d-g)*e)+g)+(Math.round((d-h)*e)+h)).toString(16).slice(1)}function d(a,b,c){var d=parseInt(a.slice(1),16),e=parseInt(b.slice(1),16),f=d>>16,g=d>>8&255,h=255&d,i=e>>16,j=e>>8&255,k=255&e;return"#"+(16777216+65536*(Math.round((i-f)*c)+f)+256*(Math.round((j-g)*c)+g)+(Math.round((k-h)*c)+h)).toString(16).slice(1)}function e(a){function b(a){return("0"+parseInt(a).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(a)?a:(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+b(a[1])+b(a[2])+b(a[3]))}var f=new Array,g=0,h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){window.setTimeout(function(){animloop()},1e3/60)}}(),i=function(f,h){this.index=h;var i=this;this.init=function(){i.can=f,i.ctx=i.can.getContext("2d"),i.resize(),i.click(),k.init(),l.init(),m.init()},this.click=function(){a(i.can).click(function(a){k.addCircle(a.offsetX,a.offsetY)})},this.resize=function(){a(window).resize(function(){var b=a("<canvas></canvas>").width(i.can.width).height(i.can.height)[0],c=b.getContext("2d");c.drawImage(i.can,0,0),i.can.width=a(i.can).width(),i.can.height=a(i.can).height(),i.ctx.drawImage(c.canvas,0,0)}).trigger("resize")},this.draw=function(){k.draw(),l.draw(),m.draw()};var k={circles:[],init:function(){k.color=e(a(i.can).css("background-color")),k.colorOrig=k.color},draw:function(){i.ctx.save(),i.ctx.fillStyle=k.color,i.ctx.fillRect(0,0,i.can.width,i.can.height),i.ctx.restore(),k.circles&&k.circles.forEach(function(a){i.ctx.save(),i.ctx.beginPath(),i.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!1),i.ctx.fillStyle=a.fill,i.ctx.fill(),i.ctx.restore()}),k.update()},update:function(){var a=0;k.circles.forEach(function(b){b.radius>i.can.width&&b.radius>i.can.height&&(k.color=b.fill,k.circles.splice(a--,1)),b.radius*=1.05,a++}),k.color=d(k.color,k.colorOrig,.1)},addCircle:function(a,b){var d=c(k.colorOrig,1*Math.random()+-.5);k.circles.push({x:a,y:b,radius:1,fill:d})}},l={particlesArray:[],center:{},init:function(){},draw:function(){g%3==0&&l.particlesArray.push(new l.particle);for(var a=0;a<l.particlesArray.length;a++)l.particlesArray[a].draw()},particle:function(){this.x=i.can.width/2,this.y=i.can.height/2,this.vx=20*Math.random()-10,this.vy=20*Math.random()-10,this.opacity=.25*Math.random()+.5,this.radius=1.5*Math.random()+1,this.draw=function(){i.ctx.save(),i.ctx.fillStyle="rgba(255,255,255,"+this.opacity+")",i.ctx.beginPath(),i.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),i.ctx.fill(),i.ctx.restore(),this.update()},this.update=function(){if(this.x=this.x+this.vx,this.y=this.y+this.vy,this.vx=.96*this.vx,this.vy=.96*this.vy,this.opacity=.99*this.opacity,this.opacity<.1||this.x+this.radius>i.can.width||this.x-this.radius<0||this.y+this.radius>i.can.height||this.y-this.radius<0)for(var a in l.particlesArray)l.particlesArray[a]==this&&l.particlesArray.splice(a,1)}}},m={side:150,count:0,rotate:0,opacity:0,scale:0,animations:[{duration:80,delta:function(a){return j.easeOutQuad(a)},step:function(a){m.rotate=600*a*Math.PI/180,m.opacity=a}},{duration:40,delta:function(a){return j.linear(a)},step:function(a){m.scale=a}},{delay:40,duration:75,infinite:!0,delta:function(a){return j.linear(a)},step:function(a){var b=.05,c=Math.cos(Math.PI+Math.PI*a*2);c/=1/b,c=c+1+b,m.scale=c}}],init:function(){},draw:function(){var a,b,c;a=m.side*(Math.sqrt(3)/2),b=[{x:0,y:-a/2},{x:-m.side/2,y:a/2},{x:m.side/2,y:a/2}],c=(b[0].y+b[1].y+b[2].y)/3,b.forEach(function(a){a.y=a.y-c}),i.ctx.save(),i.ctx.fillStyle="rgba(255,255,255,"+m.opacity+")",i.ctx.translate(i.can.width/2,i.can.height/2),i.ctx.rotate(m.rotate),i.ctx.scale(m.scale,m.scale),i.ctx.beginPath(),i.ctx.moveTo(b[0].x,b[0].y),i.ctx.lineTo(b[1].x,b[1].y),i.ctx.lineTo(b[2].x,b[2].y),i.ctx.lineTo(b[0].x,b[0].y),i.ctx.fill(),i.ctx.closePath(),i.ctx.restore(),m.update()},update:function(){var a=0;m.animations.forEach(function(c){c.finished&&m.animations.splice(a--,1),b(c),a++})}}},j={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},k={init:function(){a(".navigation-menu").click(function(b){a(".navigation").toggleClass("is-open"),b.preventDefault()}),k.resize()},resize:function(){a(window).resize(function(){a(".row--window").css("height",a(window).height())})}};a(function(){k.init();a("canvas").each(function(b){f[b]=new i(a(this)[0],b),f[b].init()});var b=function(){g++,a.each(f,function(a){f[a].draw()}),h(b)};requestAnimationFrame(b)})}(jQuery);